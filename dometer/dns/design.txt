    [socket]->(bytes|error)
      |  ^
      v  |
 (bytes) (bytes
      |  |error)
      |  |
      v  |    /-->(question)--->\
   [handler]-|                  |-[resolver]
      |  ^    \<-(bytes|error)<-/
      v  |
 (bytes) (message
      |  |error)
      |  |
      v  |
    [parser]->(message|error)

Events:
- SessionStart(id)
- UdpReceive(id,bytes)
- UdpReceiveFailure(id,error)
- DnsParseQuery(id,query)
- DnsParseQueryFailure(id, error)
- DnsResolution(id,query,bytes,duration)
- DnsResolutionFailure(id,query,duration,error)
- DnsParseReply(id,query,reply)
- DnsParseReplyFailure(id,query,error)
- UdpSend(id,bytes)
- UdpSendFailure(id,error)
- SessionEnd(id)
